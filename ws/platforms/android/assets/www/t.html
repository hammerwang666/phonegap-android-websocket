<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>¼òµ¥ÍÏ•öÔ­ÀíÊµÀý</title>
    <style type="text/css">
        #drag{width:400px;height:300px;background:url(http://upload.yxgz.cn/uploadfile/2009/0513/20090513052611873.jpg);cursor:move;position:absolute;top:100px;left:100px;border:solid 1px #ccc;}
        h2{color:#fff;background: none repeat scroll 0 0 rgba(16, 90, 31, 0.7);color:#FFFFFF;height:40px;line-height:40px;margin:0;}
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function(){
            /*--------------ÍÏÒ·Ð§¹û----------------
            *Ô­Àí£º±ê¼ÇÍÏÒ·×´Ì¬dragging ,×ø±êÎ»ÖÃiX, iY
            *         mousedown:fn(){dragging = true, ¼ÇÂ¼ÆðÊ¼×ø±êÎ»ÖÃ£¬ÉèÖÃÊó±ê²¶»ñ}
            *         mouseover:fn(){ÅÐ¶ÏÈç¹ûdragging = true, Ôòµ±Ç°×ø±êÎ»ÖÃ - ¼ÇÂ¼ÆðÊ¼×ø±êÎ»ÖÃ£¬¾ø¶Ô¶¨Î»µÄÔªËØ»ñµÃ²îÖµ}
            *         mouseup:fn(){dragging = false, ÊÍ·ÅÊó±ê²¶»ñ£¬·ÀÖ¹Ã°ÅÝ}
            */
            var dragging = false;
            var iX, iY;
            $("#drag").mousedown(function(e) {
                dragging = true;
                iX = e.clientX - this.offsetLeft;
                iY = e.clientY - this.offsetTop;
                this.setCapture && this.setCapture();
                return false;
            });
            document.onmousemove = function(e) {
                if (dragging) {
                var e = e || window.event;
                var oX = e.clientX - iX;
                var oY = e.clientY - iY;
                $("#drag").css({"left":oX + "px", "top":oY + "px"});
                return false;
                }
            };
            $(document).mouseup(function(e) {
                dragging = false;
                $("#drag")[0].releaseCapture();
                e.cancelBubble = true;
            })
 
        })
 
    </script>
</head>
 
<body>
    <div id="drag">
        <h2>À´ÍÏ¶¯ÎÒ°¡</h2>
    </div>
</body>
</html>